<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Ducks HackLab</title>
<style>
body {
    background: #0b0f14;
    color: #00ff9c;
    font-family: monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.container {
    width: 420px;
    border: 1px solid #00ff9c;
    padding: 20px;
    box-shadow: 0 0 15px #00ff9c;
}
h1 {
    text-align: center;
}
input, button {
    width: 100%;
    margin-top: 10px;
    padding: 8px;
    background: #0b0f14;
    color: #00ff9c;
    border: 1px solid #00ff9c;
}
button:hover {
    background: #00ff9c;
    color: black;
    cursor: pointer;
}
.hidden {
    display: none;
}
.answer {
    margin-top: 8px;
}
</style>
</head>
<body>

<div class="container">

<!-- LOGIN / REGISTER -->
<div id="auth">
    <h1>Ducks HackLab</h1>
    <input id="user" placeholder="Username">
    <input id="pass" type="password" placeholder="Passwort">
    <button onclick="register()">Registrieren</button>
    <button onclick="login()">Login</button>
    <p id="authMsg"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
    <h2>Willkommen, <span id="username"></span></h2>
    <p>üí∞ Ducks: <span id="ducks"></span></p>

    <hr>

    <p>
        üîê <strong>Security‚ÄëGrundlagen:</strong><br>
        Was ist das sicherste Verhalten im Umgang mit Passw√∂rtern?
    </p>

    <div class="answer">
        <button onclick="answer(false)">Passwort √ºberall gleich benutzen</button>
    </div>
    <div class="answer">
        <button onclick="answer(true)">F√ºr jede Seite ein eigenes Passwort</button>
    </div>
    <div class="answer">
        <button onclick="answer(false)">Passwort per E‚ÄëMail teilen</button>
    </div>

    <p id="result"></p>
</div>

</div>

<script>
let currentUser = null;

function register() {
    const user = userInput();
    const pass = passInput();

    if (localStorage.getItem(user)) {
        msg("User existiert bereits!");
        return;
    }

    const data = {
        password: pass,
        ducks: 10000
    };

    localStorage.setItem(user, JSON.stringify(data));
    msg("Registrierung erfolgreich! Jetzt einloggen.");
}

function login() {
    const user = userInput();
    const pass = passInput();

    const data = JSON.parse(localStorage.getItem(user));
    if (!data || data.password !== pass) {
        msg("Login fehlgeschlagen!");
        return;
    }

    currentUser = user;
    showDashboard();
}

function showDashboard() {
    const data = JSON.parse(localStorage.getItem(currentUser));
    document.getElementById("auth").classList.add("hidden");
    document.getElementById("dashboard").classList.remove("hidden");
    document.getElementById("username").innerText = currentUser;
    document.getElementById("ducks").innerText = data.ducks;
}

function answer(correct) {
    const data = JSON.parse(localStorage.getItem(currentUser));
    if (correct) {
        data.ducks += 500;
        result("‚úî Richtig! +500 Ducks");
    } else {
        data.ducks -= 300;
        result("‚úñ Falsch! -300 Ducks");
    }
    localStorage.setItem(currentUser, JSON.stringify(data));
    document.getElementById("ducks").innerText = data.ducks;
}

function userInput() {
    return document.getElementById("user").value.trim();
}

function passInput() {
    return document.getElementById("pass").value.trim();
}

function msg(text) {
    document.getElementById("authMsg").innerText = text;
}

function result(text) {
    document.getElementById("result").innerText = text;
}
</script>

</body>
</html>